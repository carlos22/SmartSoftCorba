//--------------------------------------------------------------------------
// Code generated by the SmartSoft MDSD Toolchain Version 0.8.0
// The SmartSoft Toolchain has been developed by:
//  
// ZAFH Servicerobotic Ulm
// Christian Schlegel (schlegel@hs-ulm.de)
// University of Applied Sciences
// Prittwitzstr. 10
// 89075 Ulm (Germany)
//
// Information about the SmartSoft MDSD Toolchain is available at:
// smart-robotics.sourceforge.net
// 
// This file is generated once. Modify this file to your needs. 
// If you want the toolchain to re-generate this file, please 
// delete it before running the code generator.
//--------------------------------------------------------------------------

#include "PrintTask.hh"
#include "gen/SampleSendClient.hh"

#include <iostream>

PrintTask::PrintTask()
{
	std::cout << "constructor PrintTask\n";
}

int PrintTask::svc()
{
	CommSampleObjects::CommSamplePrint m;

	time_t time_now;
	struct tm *time_p;

	CHS::StatusCode status;

	while(1)
	{
		// send message
	    time_now = time(0);
	    time_p   = gmtime(&time_now);

	    m.set(time_p->tm_hour,time_p->tm_min,time_p->tm_sec,"from Printer Task");
	    status = SampleSendClient::instance()->printClient->send(m);
	}
	return 0;
}
